<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="GoodRequestsNewReport" pageWidth="900" pageHeight="95" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="900" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" isIgnorePagination="true" uuid="a2cb3d44-e974-4f58-a6f1-ac55e8d90923">
	<property name="net.sf.jasperreports.export.xls.exclude.origin.band.1" value="pageHeader"/>
	<property name="net.sf.jasperreports.export.xls.exclude.origin.band.2" value="pageFooter"/>
	<property name="net.sf.jasperreports.export.xls.exclude.origin.keep.first.band.1" value="columnHeader"/>
	<property name="net.sf.jasperreports.export.xls.exclude.origin.keep.first.band.2" value="rowGroup"/>
	<property name="net.sf.jasperreports.export.csv.exclude.origin.band.1" value="pageHeader"/>
	<property name="net.sf.jasperreports.export.csv.exclude.origin.band.2" value="pageFooter"/>
	<property name="net.sf.jasperreports.export.csv.exclude.origin.keep.first.band.1" value="columnHeader"/>
	<property name="net.sf.jasperreports.export.csv.exclude.origin.keep.first.band.2" value="columnFooter"/>
	<property name="ireport.zoom" value="1.0000000000000004"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="Crosstab Data Text" hAlign="Center"/>
	<style name="style1">
		<box>
			<rightPen lineWidth="1.0"/>
		</box>
	</style>
	<style name="style2">
		<box>
			<leftPen lineWidth="1.0"/>
		</box>
	</style>
	<style name="style3">
		<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
			<pen lineWidth="1.0"/>
			<topPen lineWidth="1.0"/>
			<leftPen lineWidth="1.0"/>
			<bottomPen lineWidth="1.0"/>
			<rightPen lineWidth="1.0"/>
		</box>
	</style>
	<parameter name="startDate" class="java.util.Date"/>
	<parameter name="endDate" class="java.util.Date"/>
	<parameter name="overall" class="java.lang.Long" isForPrompting="false">
		<defaultValueExpression><![CDATA[Long.MAX_VALUE - 10]]></defaultValueExpression>
	</parameter>
	<parameter name="overall_all" class="java.lang.Long">
		<defaultValueExpression><![CDATA[Long.MAX_VALUE - 8]]></defaultValueExpression>
	</parameter>
	<parameter name="generateEndDate" class="java.lang.String"/>
	<field name="orgNum" class="java.lang.Long"/>
	<field name="officialName" class="java.lang.String"/>
	<field name="goodName" class="java.lang.String"/>
	<field name="doneDate" class="java.util.Date"/>
	<field name="totalCount" class="java.lang.Long"/>
	<field name="dailySample" class="java.lang.Long"/>
	<field name="doneDateStr" class="java.lang.String"/>
	<field name="newTotalCount" class="java.lang.Long"/>
	<field name="newDailySample" class="java.lang.Long"/>
	<field name="hideDailySample" class="java.lang.Integer"/>
	<field name="hideLastValue" class="java.lang.Integer"/>
	<field name="feedingPlanTypeStr" class="java.lang.String"/>
	<field name="feedingPlanTypeNum" class="java.lang.Integer"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="20">
			<staticText>
				<reportElement uuid="1511861b-b924-4613-b054-6370d8a867cd" x="4" y="0" width="230" height="20"/>
				<textElement verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<text><![CDATA[Время последней выгрузки заявок:]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement uuid="1b7a4497-cd22-45f7-a1d9-2c63f1ca6e15" x="234" y="0" width="210" height="20"/>
				<textElement verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{generateEndDate}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<lastPageFooter>
		<band height="75">
			<staticText>
				<reportElement uuid="2a272161-3963-4511-ba55-51fb109f64b4" x="34" y="0" width="800" height="75"/>
				<textElement textAlignment="Justified" verticalAlignment="Top">
					<font size="12"/>
				</textElement>
				<text><![CDATA[Через дробь указано количество суточных проб, входящих в общее число заказа (цифра до дроби). Отображение заявок в табличной части ограничено следующим временным промежутком: текущий день + 6 дней вперед. Просмотреть заявки на поставку питания на более длительный срок можно в АРМ Отчетность поставщика питания (Онлайн отчеты > Отчет по заявкам > Сводный отчет по заявкам). ]]></text>
			</staticText>
		</band>
	</lastPageFooter>
	<summary>
		<band height="70" splitType="Stretch">
			<crosstab ignoreWidth="true">
				<reportElement uuid="329e9ea5-b84b-44ec-ad10-3dc3e45bf055" style="style3" stretchType="RelativeToBandHeight" mode="Transparent" x="4" y="0" width="234" height="52" forecolor="#FFFFFF"/>
				<crosstabHeaderCell>
					<cellContents style="table">
						<staticText>
							<reportElement uuid="a445541c-f3c5-4c0e-bd05-8143c4cefd7f" style="table" mode="Opaque" x="0" y="0" width="300" height="16" backcolor="#F0F8FF"/>
							<textElement textAlignment="Center" verticalAlignment="Middle">
								<font size="12" isBold="true"/>
							</textElement>
							<text><![CDATA[Товар]]></text>
						</staticText>
					</cellContents>
				</crosstabHeaderCell>
				<rowGroup name="feedingPlanTypeNum" width="0">
					<bucket class="java.lang.Integer">
						<bucketExpression><![CDATA[$F{feedingPlanTypeNum}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents/>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents/>
					</crosstabTotalRowHeader>
				</rowGroup>
				<rowGroup name="feedingPlanTypeStr" width="0" totalPosition="End">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{feedingPlanTypeStr}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents/>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents>
							<staticText>
								<reportElement uuid="13338e0a-5cb3-479b-8848-38ab5387b1b8" style="table" x="0" y="0" width="300" height="16"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font size="12" isBold="true"/>
									<paragraph tabStopWidth="40"/>
								</textElement>
								<text><![CDATA[ВСЕГО]]></text>
							</staticText>
						</cellContents>
					</crosstabTotalRowHeader>
				</rowGroup>
				<rowGroup name="goodName" width="300" totalPosition="Start" headerPosition="Middle">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{goodName}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents mode="Transparent" style="table">
							<textField>
								<reportElement uuid="2b0b8916-f6ef-462f-b217-2452810563fe" positionType="Float" stretchType="RelativeToBandHeight" mode="Transparent" x="0" y="0" width="300" height="16"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font size="12"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{goodName}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents backcolor="#99CCFF" mode="Opaque" style="style2">
							<textField>
								<reportElement uuid="f25ffeb0-d0ba-4c96-a6cb-c6bf252b0ced" style="Crosstab Data Text" x="0" y="0" width="300" height="16"/>
								<textElement textAlignment="Left">
									<font size="12"/>
									<paragraph leftIndent="8"/>
								</textElement>
								<textFieldExpression><![CDATA[""+""+"  "+$V{feedingPlanTypeStr}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabTotalRowHeader>
				</rowGroup>
				<columnGroup name="doneDate" height="0">
					<bucket class="java.util.Date">
						<bucketExpression><![CDATA[$F{doneDate}]]></bucketExpression>
					</bucket>
					<crosstabColumnHeader>
						<cellContents/>
					</crosstabColumnHeader>
					<crosstabTotalColumnHeader>
						<cellContents/>
					</crosstabTotalColumnHeader>
				</columnGroup>
				<columnGroup name="doneDateStr" height="16">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{doneDateStr}]]></bucketExpression>
					</bucket>
					<crosstabColumnHeader>
						<cellContents backcolor="#FFFFFF" mode="Opaque" style="table">
							<textField pattern="" isBlankWhenNull="false">
								<reportElement uuid="2b8c79cb-cab8-4ac5-acd0-f1e499ddd5b6" stretchType="RelativeToBandHeight" mode="Opaque" x="0" y="0" width="81" height="16" backcolor="#F0F8FF"/>
								<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None">
									<font size="12" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA[$V{doneDateStr}]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabColumnHeader>
					<crosstabTotalColumnHeader>
						<cellContents/>
					</crosstabTotalColumnHeader>
				</columnGroup>
				<measure name="totalCountMeasure" class="java.lang.Long" calculation="Sum">
					<measureExpression><![CDATA[$F{totalCount}]]></measureExpression>
				</measure>
				<measure name="dailySampleMeasure" class="java.lang.Long" calculation="Sum">
					<measureExpression><![CDATA[$F{dailySample}]]></measureExpression>
				</measure>
				<measure name="hideDailySampleSum" class="java.lang.Integer" calculation="Sum">
					<measureExpression><![CDATA[$F{hideDailySample}]]></measureExpression>
				</measure>
				<measure name="newTotalCountMeasure" class="java.lang.Long" calculation="Sum">
					<measureExpression><![CDATA[$F{newTotalCount}]]></measureExpression>
				</measure>
				<measure name="newDailySampleMeasure" class="java.lang.Long" calculation="Sum">
					<measureExpression><![CDATA[$F{newDailySample}]]></measureExpression>
				</measure>
				<measure name="hideLastValueSum" class="java.lang.Integer" calculation="Sum">
					<measureExpression><![CDATA[$F{hideLastValue}]]></measureExpression>
				</measure>
				<crosstabCell width="81" height="16">
					<cellContents style="table">
						<textField>
							<reportElement uuid="231375ae-43c8-4e27-bc2f-2f82281f4282" positionType="Float" stretchType="RelativeToBandHeight" isPrintRepeatedValues="false" mode="Opaque" x="0" y="0" width="81" height="16" forecolor="#FFFFFF" backcolor="#FF6666">
								<printWhenExpression><![CDATA[!$V{totalCountMeasure}.equals($V{newTotalCountMeasure}) &&
!$V{newTotalCountMeasure}.equals(0L)]]></printWhenExpression>
							</reportElement>
							<textElement textAlignment="Center" verticalAlignment="Middle">
								<font size="12" isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{totalCountMeasure}+
( $V{hideDailySampleSum}==0L || $V{dailySampleMeasure}==0 ? "" : " / "+ $V{dailySampleMeasure} )
+($V{hideLastValueSum}==0L?"":
(
" (" +
new Long($V{totalCountMeasure}.longValue() - $V{newTotalCountMeasure}.longValue() )
  +
( $V{hideDailySampleSum}==0L || (new Long($V{dailySampleMeasure}.longValue() - $V{newDailySampleMeasure}.longValue()))==0L? "" : " / "+
    new Long($V{dailySampleMeasure}.longValue() - $V{newDailySampleMeasure}.longValue() )
)
+ ")"
))]]></textFieldExpression>
						</textField>
						<textField>
							<reportElement uuid="67da7250-646f-4951-8566-1635493f6071" positionType="Float" stretchType="RelativeToBandHeight" isPrintRepeatedValues="false" mode="Opaque" x="0" y="0" width="81" height="16" backcolor="#92D050">
								<printWhenExpression><![CDATA[$V{totalCountMeasure}.equals($V{newTotalCountMeasure}) &&
!$V{newTotalCountMeasure}.equals(0L)]]></printWhenExpression>
							</reportElement>
							<textElement textAlignment="Center" verticalAlignment="Middle">
								<font size="12"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{totalCountMeasure}+
($V{hideDailySampleSum}==0L || $V{dailySampleMeasure}==0
    ? "" : " / "+ $V{dailySampleMeasure} )]]></textFieldExpression>
						</textField>
						<textField>
							<reportElement uuid="231375ae-43c8-4e27-bc2f-2f82281f4282" positionType="Float" stretchType="RelativeToBandHeight" isPrintRepeatedValues="false" mode="Opaque" x="0" y="0" width="81" height="16">
								<printWhenExpression><![CDATA[!Integer.valueOf($V{doneDate}.getDay()).equals(0)
&& $V{newTotalCountMeasure}.equals(0L)]]></printWhenExpression>
							</reportElement>
							<textElement textAlignment="Center" verticalAlignment="Middle">
								<font size="12"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{totalCountMeasure}+
($V{hideDailySampleSum}==0L || $V{dailySampleMeasure}==0
    ? "" : " / "+ $V{dailySampleMeasure} )]]></textFieldExpression>
						</textField>
						<textField>
							<reportElement uuid="317b030e-0775-4653-b428-52ae97c008ec" positionType="Float" stretchType="RelativeToBandHeight" isPrintRepeatedValues="false" mode="Opaque" x="0" y="0" width="81" height="16" backcolor="#CCCCCC">
								<printWhenExpression><![CDATA[Integer.valueOf($V{doneDate}.getDay()).equals(0)
&& $V{newTotalCountMeasure}.equals(0L)]]></printWhenExpression>
							</reportElement>
							<textElement textAlignment="Center" verticalAlignment="Middle">
								<font size="12"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{totalCountMeasure}+
($V{hideDailySampleSum}==0L || $V{dailySampleMeasure}==0
    ? "" : " / "+ $V{dailySampleMeasure} )]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="50" columnTotalGroup="doneDateStr">
					<cellContents backcolor="#BFE1FF" mode="Opaque">
						<textField>
							<reportElement uuid="7d15b2d6-cfdc-4fc6-9f03-e1811787f419" style="Crosstab Data Text" x="0" y="0" width="50" height="25"/>
							<textElement/>
							<textFieldExpression><![CDATA[$V{totalCountMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="81" height="17" rowTotalGroup="goodName">
					<cellContents backcolor="#99CCFF" mode="Opaque" style="table"/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="goodName" columnTotalGroup="doneDateStr">
					<cellContents backcolor="#BFE1FF" mode="Opaque">
						<textField>
							<reportElement uuid="a7830eca-b3f5-40e3-91ad-0d63f405d0bd" style="Crosstab Data Text" x="0" y="0" width="50" height="25"/>
							<textElement/>
							<textFieldExpression><![CDATA[$V{totalCountMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell columnTotalGroup="doneDate">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="goodName" columnTotalGroup="doneDate">
					<cellContents/>
				</crosstabCell>
				<crosstabCell width="81" height="17" rowTotalGroup="feedingPlanTypeStr">
					<cellContents>
						<textField>
							<reportElement uuid="b39f384f-39e2-416d-b3c7-204479b15322" style="table" x="0" y="0" width="81" height="16"/>
							<textElement textAlignment="Center" verticalAlignment="Middle">
								<font size="12" isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA[$V{totalCountMeasure}+
($V{hideDailySampleSum}==0L || $V{dailySampleMeasure}==0
    ? "" : " / "+ $V{dailySampleMeasure} )]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell rowTotalGroup="feedingPlanTypeStr" columnTotalGroup="doneDate">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="feedingPlanTypeStr" columnTotalGroup="doneDateStr">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="feedingPlanTypeNum">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="feedingPlanTypeNum" columnTotalGroup="doneDate">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="feedingPlanTypeNum" columnTotalGroup="doneDateStr">
					<cellContents/>
				</crosstabCell>
			</crosstab>
		</band>
	</summary>
	<noData>
		<band/>
	</noData>
</jasperReport>
