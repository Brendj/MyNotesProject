<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="GoodRequestsNewReport" pageWidth="900" pageHeight="105" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="900" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" isIgnorePagination="true" uuid="a2cb3d44-e974-4f58-a6f1-ac55e8d90923">
	<property name="net.sf.jasperreports.export.xls.exclude.origin.band.1" value="pageHeader"/>
	<property name="net.sf.jasperreports.export.xls.exclude.origin.band.2" value="pageFooter"/>
	<property name="net.sf.jasperreports.export.xls.exclude.origin.keep.first.band.1" value="columnHeader"/>
	<property name="net.sf.jasperreports.export.xls.exclude.origin.keep.first.band.2" value="rowGroup"/>
	<property name="net.sf.jasperreports.export.csv.exclude.origin.band.1" value="pageHeader"/>
	<property name="net.sf.jasperreports.export.csv.exclude.origin.band.2" value="pageFooter"/>
	<property name="net.sf.jasperreports.export.csv.exclude.origin.keep.first.band.1" value="columnHeader"/>
	<property name="net.sf.jasperreports.export.csv.exclude.origin.keep.first.band.2" value="columnFooter"/>
	<property name="ireport.zoom" value="1.0000000000000004"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="003 Sample data xls"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="Crosstab Data Text"/>
	<style name="style1">
		<box>
			<rightPen lineWidth="1.0"/>
		</box>
	</style>
	<style name="style2">
		<box>
			<leftPen lineWidth="1.0"/>
		</box>
	</style>
	<style name="style3">
		<box topPadding="1" leftPadding="1" bottomPadding="1" rightPadding="1">
			<pen lineWidth="1.0"/>
			<topPen lineWidth="1.0"/>
			<leftPen lineWidth="1.0"/>
			<bottomPen lineWidth="1.0"/>
			<rightPen lineWidth="1.0"/>
		</box>
	</style>
	<parameter name="startDate" class="java.util.Date"/>
	<parameter name="endDate" class="java.util.Date"/>
	<parameter name="overall" class="java.lang.Long" isForPrompting="false">
		<defaultValueExpression><![CDATA[Long.MAX_VALUE - 10]]></defaultValueExpression>
	</parameter>
	<parameter name="overall_all" class="java.lang.Long">
		<defaultValueExpression><![CDATA[Long.MAX_VALUE - 8]]></defaultValueExpression>
	</parameter>
	<parameter name="generateEndDate" class="java.lang.String"/>
	<field name="orgNum" class="java.lang.Long"/>
	<field name="officialName" class="java.lang.String"/>
	<field name="goodName" class="java.lang.String"/>
	<field name="doneDate" class="java.util.Date"/>
	<field name="totalCount" class="java.lang.Long"/>
	<field name="dailySample" class="java.lang.Long"/>
	<field name="doneDateStr" class="java.lang.String"/>
	<field name="newTotalCount" class="java.lang.Long"/>
	<field name="newDailySample" class="java.lang.Long"/>
	<field name="hideDailySample" class="java.lang.Integer"/>
	<field name="hideLastValue" class="java.lang.Integer"/>
	<field name="feedingPlanTypeStr" class="java.lang.String"/>
	<field name="feedingPlanTypeNum" class="java.lang.Integer"/>
	<field name="notificationMark" class="java.lang.Long"/>
	<field name="tempClients" class="java.lang.Long"/>
	<field name="newTempClients" class="java.lang.Long"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band splitType="Stretch"/>
	</title>
	<pageHeader>
		<band height="20">
			<staticText>
				<reportElement x="4" y="0" width="230" height="20" uuid="1511861b-b924-4613-b054-6370d8a867cd"/>
				<textElement verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<text><![CDATA[Время последней выгрузки заявок:]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement x="234" y="0" width="210" height="20" uuid="1b7a4497-cd22-45f7-a1d9-2c63f1ca6e15"/>
				<textElement verticalAlignment="Middle">
					<font size="14"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{generateEndDate}]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<lastPageFooter>
		<band height="85">
			<staticText>
				<reportElement x="34" y="0" width="800" height="85" uuid="2a272161-3963-4511-ba55-51fb109f64b4"/>
				<textElement textAlignment="Justified" verticalAlignment="Top">
					<font size="12"/>
				</textElement>
				<text><![CDATA[Через первую дробь указано количество суточных проб, входящих в общее число заказа (цифра до дроби), через вторую дробь указано количество заявок подаваемых на детей, временно обучающихся в другой образовательной организации.
Отображение заявок в табличной части ограничено следующим временным промежутком: текущий день + 6 дней вперед. Просмотреть заявки на поставку питания на более длительный срок можно в АРМ отчетности поставщика питания (Онлайн отчеты > Отчет по заявкам > Сводный отчет по заявкам). ]]></text>
			</staticText>
		</band>
	</lastPageFooter>
	<summary>
		<band height="70" splitType="Stretch">
			<crosstab ignoreWidth="true">
				<reportElement style="style3" stretchType="RelativeToBandHeight" mode="Transparent" x="0" y="0" width="900" height="70" forecolor="#FFFFFF" uuid="329e9ea5-b84b-44ec-ad10-3dc3e45bf055"/>
				<crosstabHeaderCell>
					<cellContents style="table">
						<textField>
							<reportElement mode="Opaque" x="0" y="0" width="300" height="24" uuid="e6acfcff-3fa4-4c53-9568-a19131f91cf3"/>
							<textElement textAlignment="Center" verticalAlignment="Middle" markup="html">
								<font size="12" isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA["<font size=\"5\">Товар</font>"]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabHeaderCell>
				<rowGroup name="feedingPlanTypeNum" width="0">
					<bucket class="java.lang.Integer">
						<bucketExpression><![CDATA[$F{feedingPlanTypeNum}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents/>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents/>
					</crosstabTotalRowHeader>
				</rowGroup>
				<rowGroup name="feedingPlanTypeStr" width="0">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{feedingPlanTypeStr}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents/>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents>
							<textField>
								<reportElement mode="Opaque" x="0" y="0" width="300" height="24" uuid="4675ad94-88eb-4875-a2bc-0831e27026a9"/>
								<box leftPadding="10"/>
								<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
									<font size="12" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA["<font size=\"5\">ВСЕГО</font>"]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabTotalRowHeader>
				</rowGroup>
				<rowGroup name="goodName" width="300" totalPosition="Start" headerPosition="Middle">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{goodName}]]></bucketExpression>
					</bucket>
					<crosstabRowHeader>
						<cellContents mode="Transparent" style="table">
							<textField>
								<reportElement positionType="Float" stretchType="RelativeToBandHeight" mode="Opaque" x="0" y="0" width="300" height="24" uuid="2b0b8916-f6ef-462f-b217-2452810563fe"/>
								<textElement textAlignment="Center" verticalAlignment="Middle" markup="html">
									<font size="12"/>
								</textElement>
								<textFieldExpression><![CDATA["<font size=\"5\">" + $V{goodName} + "</font>"]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabRowHeader>
					<crosstabTotalRowHeader>
						<cellContents backcolor="#99CCFF" mode="Opaque" style="style2">
							<textField isBlankWhenNull="true">
								<reportElement style="Crosstab Data Text" stretchType="RelativeToBandHeight" mode="Opaque" x="0" y="0" width="300" height="24" backcolor="#99CCFF" uuid="f25ffeb0-d0ba-4c96-a6cb-c6bf252b0ced"/>
								<box leftPadding="4"/>
								<textElement textAlignment="Left" verticalAlignment="Middle" markup="html">
									<font size="12"/>
									<paragraph leftIndent="8"/>
								</textElement>
								<textFieldExpression><![CDATA["<font size=\"5\">" + $V{feedingPlanTypeStr} + "</font>"]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabTotalRowHeader>
				</rowGroup>
				<columnGroup name="doneDate" height="0">
					<bucket class="java.util.Date">
						<bucketExpression><![CDATA[$F{doneDate}]]></bucketExpression>
					</bucket>
					<crosstabColumnHeader>
						<cellContents/>
					</crosstabColumnHeader>
					<crosstabTotalColumnHeader>
						<cellContents/>
					</crosstabTotalColumnHeader>
				</columnGroup>
				<columnGroup name="doneDateStr" height="24">
					<bucket class="java.lang.String">
						<bucketExpression><![CDATA[$F{doneDateStr}]]></bucketExpression>
					</bucket>
					<crosstabColumnHeader>
						<cellContents backcolor="#FFFFFF" mode="Opaque" style="table">
							<textField pattern="" isBlankWhenNull="false">
								<reportElement stretchType="RelativeToBandHeight" mode="Opaque" x="0" y="0" width="108" height="24" backcolor="#F0F8FF" uuid="2b8c79cb-cab8-4ac5-acd0-f1e499ddd5b6"/>
								<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" markup="html">
									<font size="12" isBold="true"/>
								</textElement>
								<textFieldExpression><![CDATA["<font size=\"5\">" + $V{doneDateStr} + "</font>"]]></textFieldExpression>
							</textField>
						</cellContents>
					</crosstabColumnHeader>
					<crosstabTotalColumnHeader>
						<cellContents/>
					</crosstabTotalColumnHeader>
				</columnGroup>
				<measure name="totalCountMeasure" class="java.lang.Long" calculation="Sum">
					<measureExpression><![CDATA[$F{totalCount}]]></measureExpression>
				</measure>
				<measure name="dailySampleMeasure" class="java.lang.Long" calculation="Sum">
					<measureExpression><![CDATA[$F{dailySample}]]></measureExpression>
				</measure>
				<measure name="hideDailySampleSum" class="java.lang.Integer" calculation="Sum">
					<measureExpression><![CDATA[$F{hideDailySample}]]></measureExpression>
				</measure>
				<measure name="newTotalCountMeasure" class="java.lang.Long" calculation="Sum">
					<measureExpression><![CDATA[$F{newTotalCount}]]></measureExpression>
				</measure>
				<measure name="newDailySampleMeasure" class="java.lang.Long" calculation="Sum">
					<measureExpression><![CDATA[$F{newDailySample}]]></measureExpression>
				</measure>
				<measure name="hideLastValueSum" class="java.lang.Integer" calculation="Sum">
					<measureExpression><![CDATA[$F{hideLastValue}]]></measureExpression>
				</measure>
				<measure name="notificationMark" class="java.lang.Long" calculation="Sum">
					<measureExpression><![CDATA[$F{notificationMark}]]></measureExpression>
				</measure>
				<measure name="tempClientsMeasure" class="java.lang.Long" calculation="Sum">
					<measureExpression><![CDATA[$F{tempClients}]]></measureExpression>
				</measure>
				<measure name="newTempClientsMeasure" class="java.lang.Long" calculation="Sum">
					<measureExpression><![CDATA[$F{newTempClients}]]></measureExpression>
				</measure>
				<crosstabCell width="108" height="24">
					<cellContents style="table">
						<textField isStretchWithOverflow="true">
							<reportElement positionType="Float" stretchType="RelativeToBandHeight" isPrintRepeatedValues="false" mode="Opaque" x="0" y="0" width="108" height="24" forecolor="#FFFFFF" backcolor="#FF6666" uuid="231375ae-43c8-4e27-bc2f-2f82281f4282">
								<printWhenExpression><![CDATA[(!$V{totalCountMeasure}.equals($V{newTotalCountMeasure}) && $V{notificationMark}.equals(0L))]]></printWhenExpression>
							</reportElement>
							<textElement textAlignment="Center" verticalAlignment="Middle" markup="html">
								<font size="12" isBold="false"/>
							</textElement>
							<textFieldExpression><![CDATA["<font size=\"5\">" + $V{totalCountMeasure}+
( $V{hideDailySampleSum}==0L || ($V{dailySampleMeasure}==0L && $V{tempClientsMeasure}==0L) ? "" : " / "+ $V{dailySampleMeasure} + ($V{tempClientsMeasure}==0L ? "" : " / " +
$V{tempClientsMeasure})) + ($V{hideLastValueSum}==0L?"":
(
"&#10;(" +
new Long($V{totalCountMeasure}.longValue() - $V{newTotalCountMeasure}.longValue() )
  +
( $V{hideDailySampleSum}==0L
    || (new Long($V{dailySampleMeasure}.longValue() - $V{newDailySampleMeasure}.longValue()))==0L? "" : " / "+
    new Long($V{dailySampleMeasure}.longValue() - $V{newDailySampleMeasure}.longValue() )
) +
( $V{hideDailySampleSum}==0L
    || (new Long($V{tempClientsMeasure}.longValue() - $V{newTempClientsMeasure}.longValue()))==0L? "" : " / "+
    new Long($V{tempClientsMeasure}.longValue() - $V{newTempClientsMeasure}.longValue() )
)
+ ")"
))
+"</font>"]]></textFieldExpression>
						</textField>
						<textField isStretchWithOverflow="true">
							<reportElement positionType="Float" stretchType="RelativeToBandHeight" isPrintRepeatedValues="false" mode="Opaque" x="0" y="0" width="108" height="24" backcolor="#92D050" uuid="67da7250-646f-4951-8566-1635493f6071">
								<printWhenExpression><![CDATA[($V{totalCountMeasure}.equals($V{newTotalCountMeasure}) &&
!$V{newTotalCountMeasure}.equals(0L)) && $V{notificationMark}.equals(0L)]]></printWhenExpression>
							</reportElement>
							<textElement textAlignment="Center" verticalAlignment="Middle" markup="html">
								<font size="12"/>
							</textElement>
							<textFieldExpression><![CDATA["<font size=\"5\">" + $V{totalCountMeasure}+
( $V{hideDailySampleSum}==0L || ($V{dailySampleMeasure}==0L && $V{tempClientsMeasure}==0L) ? "" : " / "+ $V{dailySampleMeasure} + ($V{tempClientsMeasure}==0L ? "" : " / " +
$V{tempClientsMeasure}))
+"</font>"]]></textFieldExpression>
						</textField>
						<textField isStretchWithOverflow="true">
							<reportElement positionType="Float" stretchType="RelativeToBandHeight" isPrintRepeatedValues="false" mode="Opaque" x="0" y="0" width="108" height="24" uuid="231375ae-43c8-4e27-bc2f-2f82281f4282">
								<printWhenExpression><![CDATA[(!Integer.valueOf($V{doneDate}.getDay()).equals(0)
&& $V{newTotalCountMeasure}.equals(0L)) && $V{notificationMark}.equals(0L)]]></printWhenExpression>
							</reportElement>
							<textElement textAlignment="Center" verticalAlignment="Middle" markup="html">
								<font size="12"/>
							</textElement>
							<textFieldExpression><![CDATA["<font size=\"5\">" + $V{totalCountMeasure}+
( $V{hideDailySampleSum}==0L || ($V{dailySampleMeasure}==0L && $V{tempClientsMeasure}==0L) ? "" : " / "+ $V{dailySampleMeasure} + ($V{tempClientsMeasure}==0L ? "" : " / " +
$V{tempClientsMeasure}))
+"</font>"]]></textFieldExpression>
						</textField>
						<textField isStretchWithOverflow="true">
							<reportElement positionType="Float" stretchType="RelativeToBandHeight" isPrintRepeatedValues="false" mode="Opaque" x="0" y="0" width="108" height="24" backcolor="#CCCCCC" uuid="317b030e-0775-4653-b428-52ae97c008ec">
								<printWhenExpression><![CDATA[(Integer.valueOf($V{doneDate}.getDay()).equals(0)
&& $V{newTotalCountMeasure}.equals(0L)) && $V{notificationMark}.equals(0L)]]></printWhenExpression>
							</reportElement>
							<textElement textAlignment="Center" verticalAlignment="Middle" markup="html">
								<font size="12"/>
							</textElement>
							<textFieldExpression><![CDATA["<font size=\"5\">" + $V{totalCountMeasure}+
( $V{hideDailySampleSum}==0L || ($V{dailySampleMeasure}==0L && $V{tempClientsMeasure}==0L) ? "" : " / "+ $V{dailySampleMeasure} + ($V{tempClientsMeasure}==0L ? "" : " / " +
$V{tempClientsMeasure}))
+"</font>"]]></textFieldExpression>
						</textField>
						<textField isStretchWithOverflow="true">
							<reportElement positionType="Float" stretchType="RelativeToBandHeight" isPrintRepeatedValues="false" mode="Opaque" x="0" y="0" width="108" height="24" forecolor="#FFFFFF" backcolor="#FF6666" uuid="d8c9d2f0-0c77-4aeb-a23f-d0eb3cde29ac">
								<printWhenExpression><![CDATA[!$V{notificationMark}.equals(0L)]]></printWhenExpression>
							</reportElement>
							<textElement textAlignment="Center" verticalAlignment="Middle" markup="html">
								<font size="12" isBold="false"/>
							</textElement>
							<textFieldExpression><![CDATA["<font size=\"5\">" + $V{totalCountMeasure}
 + ($V{hideLastValueSum}==0L?"":
(
"&#10;(" +
new Long($V{newTotalCountMeasure}.longValue() )
  +
( $V{hideDailySampleSum}==0L? "" : " / "+
    new Long($V{newDailySampleMeasure}.longValue() )
) +
( $V{hideDailySampleSum}==0L? "" : " / "+
    new Long($V{newTempClientsMeasure}.longValue() )
)
+ ")"
))
+"</font>"]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="50" columnTotalGroup="doneDateStr">
					<cellContents backcolor="#BFE1FF" mode="Opaque">
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="50" height="25" uuid="7d15b2d6-cfdc-4fc6-9f03-e1811787f419"/>
							<textFieldExpression><![CDATA[$V{totalCountMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell width="108" height="24" rowTotalGroup="goodName">
					<cellContents backcolor="#99CCFF" mode="Opaque" style="table">
					</cellContents>
				</crosstabCell>
				<crosstabCell rowTotalGroup="goodName" columnTotalGroup="doneDateStr">
					<cellContents backcolor="#BFE1FF" mode="Opaque">
						<textField>
							<reportElement style="Crosstab Data Text" x="0" y="0" width="50" height="25" uuid="a7830eca-b3f5-40e3-91ad-0d63f405d0bd"/>
							<textFieldExpression><![CDATA[$V{totalCountMeasure}]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell columnTotalGroup="doneDate">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="goodName" columnTotalGroup="doneDate">
					<cellContents/>
				</crosstabCell>
				<crosstabCell width="81" height="24" rowTotalGroup="feedingPlanTypeStr">
					<cellContents>
						<textField>
							<reportElement style="table" mode="Opaque" x="0" y="0" width="81" height="24" uuid="b39f384f-39e2-416d-b3c7-204479b15322"/>
							<textElement textAlignment="Center" verticalAlignment="Middle" markup="html">
								<font size="12" isBold="true"/>
							</textElement>
							<textFieldExpression><![CDATA["<font size=\"5\">" + $V{totalCountMeasure}+
($V{hideDailySampleSum}==0L || $V{dailySampleMeasure}==0
    ? "" : " / "+ $V{dailySampleMeasure} ) + "</font>"]]></textFieldExpression>
						</textField>
					</cellContents>
				</crosstabCell>
				<crosstabCell rowTotalGroup="feedingPlanTypeStr" columnTotalGroup="doneDate">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="feedingPlanTypeStr" columnTotalGroup="doneDateStr">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="feedingPlanTypeNum">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="feedingPlanTypeNum" columnTotalGroup="doneDate">
					<cellContents/>
				</crosstabCell>
				<crosstabCell rowTotalGroup="feedingPlanTypeNum" columnTotalGroup="doneDateStr">
					<cellContents/>
				</crosstabCell>
			</crosstab>
		</band>
	</summary>
	<noData>
		<band/>
	</noData>
</jasperReport>
