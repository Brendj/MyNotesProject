<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="GoodRequests" pageWidth="842" pageHeight="595" orientation="Landscape" whenNoDataType="AllSectionsNoDetail" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" isIgnorePagination="true" uuid="0624bb67-f2ce-46c4-a1e7-dadaa1f98a18">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="startDate" class="java.util.Date"/>
	<parameter name="endDate" class="java.util.Date"/>
	<parameter name="overall" class="java.lang.Long" isForPrompting="false">
		<defaultValueExpression><![CDATA[Long.MAX_VALUE - 10]]></defaultValueExpression>
	</parameter>
	<parameter name="overall_all" class="java.lang.Long">
		<defaultValueExpression><![CDATA[Long.MAX_VALUE - 8]]></defaultValueExpression>
	</parameter>
	<field name="oldMenuItems" class="java.util.List"/>
	<field name="wtMenuItems" class="java.util.List"/>
	<field name="summaryItems" class="java.util.List"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="60">
			<textField>
				<reportElement x="0" y="0" width="340" height="60" uuid="9415e512-2379-4259-bd83-da96ad2b63ff"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="16" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Сводный отчет по заявкам от " + new SimpleDateFormat("dd.MM.yyyy").format($P{startDate}) + " до "  + new SimpleDateFormat("dd.MM.yyyy").format($P{endDate})]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<detail>
		<band height="100">
			<subreport>
				<reportElement x="0" y="0" width="200" height="100" uuid="774c633f-e276-4dcb-9527-a0631a0b0702"/>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="startDate">
					<subreportParameterExpression><![CDATA[$P{startDate}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="endDate">
					<subreportParameterExpression><![CDATA[$P{endDate}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="overall_all">
					<subreportParameterExpression><![CDATA[$P{overall_all}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="overall">
					<subreportParameterExpression><![CDATA[$P{overall}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{oldMenuItems})]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "GoodRequestsNewReport_summary.jasper"]]></subreportExpression>
			</subreport>
		</band>
		<band height="150">
			<subreport>
				<reportElement x="0" y="50" width="200" height="100" uuid="28e2b24c-4bfd-49cf-a481-3696e8c58c24"/>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="startDate">
					<subreportParameterExpression><![CDATA[$P{startDate}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="endDate">
					<subreportParameterExpression><![CDATA[$P{endDate}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="overall_all">
					<subreportParameterExpression><![CDATA[$P{overall_all}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="overall">
					<subreportParameterExpression><![CDATA[$P{overall}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{wtMenuItems})]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "GoodRequestsNewReport_wtmenu.jasper"]]></subreportExpression>
			</subreport>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="0" width="100" height="50" uuid="4c7ab090-38fb-4fd0-a549-fa807fd0abe2"/>
			</textField>
		</band>
	</detail>
</jasperReport>
