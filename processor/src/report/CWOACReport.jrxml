<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="ComplianceWithOrderAndConsumptionReport" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="192f8e0c-77c7-46f8-907f-76059e155bb2">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="style1"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#FFBFBF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<parameter name="beginDate" class="java.lang.String"/>
	<parameter name="endDate" class="java.lang.String"/>
	<field name="orgName" class="java.lang.String"/>
	<field name="consumedCount" class="java.lang.Long"/>
	<field name="writtenOffCount" class="java.lang.Long"/>
	<field name="district" class="java.lang.String"/>
	<field name="requestCount" class="java.lang.Long"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="50">
			<staticText>
				<reportElement uuid="fd92eba8-1fcf-4805-894a-2e20c59adb6a" x="0" y="10" width="802" height="20"/>
				<textElement textAlignment="Center">
					<font size="12" isBold="true"/>
				</textElement>
				<text><![CDATA[Отчет по соответствию заказа и потребления резервной группе]]></text>
			</staticText>
			<textField>
				<reportElement uuid="6149647e-04c8-4f72-993d-b33240bc590b" x="0" y="30" width="802" height="20"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="10"/>
				</textElement>
				<textFieldExpression><![CDATA["за период с " + $P{beginDate} + " по " + $P{endDate}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="50"/>
	</pageHeader>
	<columnHeader>
		<band height="50">
			<staticText>
				<reportElement uuid="004590f1-4ff1-49d0-b9af-5f5ee17177f2" x="137" y="5" width="165" height="45"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[Организация]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="e4d4774c-b246-4305-a355-f07714fce7e7" style="style1" mode="Transparent" x="302" y="5" width="90" height="45" backcolor="#FFFFFF"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font isStrikeThrough="false"/>
				</textElement>
				<text><![CDATA[Заказано льготных рационов]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="13b4a72b-ce7c-445d-b7fe-572dafb0d72c" x="392" y="5" width="90" height="45"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[Потреблено льготных рационов]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="b6aeb138-f7d5-4b04-8ae8-1afb491f59da" x="482" y="5" width="90" height="45"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[Расхождение заказа и потребления]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="60c12c6e-24a9-41e1-bfee-906f4195104c" x="572" y="5" width="70" height="45"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[%]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="fff40bfc-f895-45d2-8544-02bba6d47c83" x="642" y="5" width="90" height="45"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[Cписано на резервную группу]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="62ae5e9e-ec32-49ef-8545-47440505e14f" x="732" y="5" width="70" height="45"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[%]]></text>
			</staticText>
			<staticText>
				<reportElement uuid="50108d91-0602-44d7-a702-41f2d8e12b55" x="0" y="5" width="137" height="45"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle"/>
				<text><![CDATA[Район]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="20" splitType="Stretch">
			<textField isStretchWithOverflow="true">
				<reportElement uuid="21040b76-2d41-4a4c-b3fc-f8a5718e03b5" x="137" y="0" width="165" height="20"/>
				<box leftPadding="5">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement verticalAlignment="Top"/>
				<textFieldExpression><![CDATA[$F{orgName}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0;-#,##0">
				<reportElement uuid="ec347a0a-bb57-4d33-9e63-fab8fac58149" stretchType="RelativeToBandHeight" x="392" y="0" width="90" height="20"/>
				<box leftPadding="0" rightPadding="5">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{consumedCount}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0;-#,##0">
				<reportElement uuid="5972bb75-06e1-45ba-8f38-b3e6f62cb04a" stretchType="RelativeToBandHeight" x="482" y="0" width="90" height="20"/>
				<box leftPadding="0" rightPadding="5">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{requestCount} - $F{consumedCount}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;-#,##0.00">
				<reportElement uuid="40cfa16e-37f6-4f1b-bb40-a1eb524b3739" stretchType="RelativeToBandHeight" x="572" y="0" width="70" height="20"/>
				<box leftPadding="0" rightPadding="5">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[($F{requestCount} - $F{consumedCount}) / ((double) $F{requestCount}) * 100]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0;-#,##0">
				<reportElement uuid="a73674c3-ad22-4cc6-914e-8535f8d33d83" stretchType="RelativeToBandHeight" x="642" y="0" width="90" height="20"/>
				<box leftPadding="0" rightPadding="5">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{writtenOffCount}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.00;-#,##0.00">
				<reportElement uuid="d86d5ac1-a8b3-4cac-bd66-28fd012d5cf6" stretchType="RelativeToBandHeight" x="732" y="0" width="70" height="20"/>
				<box leftPadding="0" rightPadding="5">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center"/>
				<textFieldExpression><![CDATA[$F{writtenOffCount} / ((double) $F{requestCount}) * 100]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true">
				<reportElement uuid="e047acda-c740-46ca-97f6-0884f37365ac" x="0" y="0" width="137" height="20"/>
				<box leftPadding="5">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement/>
				<textFieldExpression><![CDATA[$F{district}]]></textFieldExpression>
			</textField>
			<textField pattern="#,##0;-#,##0">
				<reportElement uuid="36a646d9-b028-4962-8c07-af319c6e0d14" x="302" y="0" width="90" height="20"/>
				<box leftPadding="0" rightPadding="5">
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Right"/>
				<textFieldExpression><![CDATA[$F{requestCount}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="50"/>
	</columnFooter>
	<pageFooter>
		<band height="50"/>
	</pageFooter>
</jasperReport>
