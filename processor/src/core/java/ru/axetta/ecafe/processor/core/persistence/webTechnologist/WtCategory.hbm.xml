<?xml version='1.0' encoding='utf-8'?>
<!--
  ~ Copyright (c) 2020. Axetta LLC. All Rights Reserved.
  -->

<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <class name="ru.axetta.ecafe.processor.core.persistence.webTechnologist.WtCategory" table="cf_wt_categories">
        <cache usage="transactional"/>
        <id name="idOfCategory">
            <column name="idofcategory" sql-type="long"/>
            <generator class="sequence">
                <param name="sequence">cf_wt_category_items_idofcategoryitem_seq</param>
            </generator>
        </id>
        <property name="createDate">
            <column name="createDate" sql-type="ru.axetta.ecafe.processor.core.persistence.DateType"/>
        </property>
        <property name="lastUpdate">
            <column name="lastUpdate" sql-type="ru.axetta.ecafe.processor.core.persistence.DateType" not-null="true"/>
        </property>
        <property name="version">
            <column name="version" sql-type="long"/>
        </property>
        <property name="guid">
            <column name="guid" sql-type="varchar(36)" length="36"/>
        </property>
        <property name="description">
            <column name="description" sql-type="varchar(255)" length="255"/>
        </property>

        <property name="deleteState">
            <column name="deletestate" sql-type="integer"/>
        </property>

        <many-to-one name="user" class="ru.axetta.ecafe.processor.core.persistence.User" lazy="false">
            <column name="idOfUser"/>
        </many-to-one>

        <set name="dishes" lazy="false" table="cf_wt_dish_categoryitem_relationships">
            <key column="idOfCategoryItem"/>
            <many-to-many class="ru.axetta.ecafe.processor.core.persistence.webTechnologist.WtDish" column="idOfDish"/>
        </set>

        <set name="categoryItems" lazy="false" cascade="all">
            <key column="idOfCategory"/>
            <one-to-many class="ru.axetta.ecafe.processor.core.persistence.webTechnologist.WtCategoryItem"/>
        </set>
    </class>
</hibernate-mapping>