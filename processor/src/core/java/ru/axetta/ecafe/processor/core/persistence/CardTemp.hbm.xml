<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2013. Axetta LLC. All Rights Reserved.
  -->

<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <class name="ru.axetta.ecafe.processor.core.persistence.CardTemp" table="CF_Cards_Temp" dynamic-update="true">
        <id name="idOfCartTemp" column="IdOfCartTemp" type="long">
            <generator class="identity"/>
        </id>
        <property name="cardNo" column="CardNo" type="long" not-null="true" unique="true"/>
        <property name="longCardNo" column="longCardNo" type="long"/>
        <property name="visitorType" column="VisitorType" type="integer" update="false"/>
        <!--<property name="clientTypeEnum" column="VisitorType" update="false" >-->
            <!--<type name="org.hibernate.type.EnumType">-->
                <!--<param name="enumClass">ru.axetta.ecafe.processor.core.persistence.ClientTypeEnum</param>-->
                <!--<param name="type">4</param> &lt;!&ndash; http://docs.oracle.com/javase/6/docs/api/constant-values.html#java.sql.Types.INTEGER&ndash;&gt;-->
            <!--</type>-->
        <!--</property>-->
        <many-to-one name="org" class="ru.axetta.ecafe.processor.core.persistence.Org" column="IdOfOrg"/>
        <property name="cardPrintedNo" column="CardPrintedNo" type="string"/>
        <property name="cardStation" column="CardStation">
            <type name="org.hibernate.type.EnumType">
                <param name="enumClass">ru.axetta.ecafe.processor.core.persistence.CardOperationStation</param>
                <param name="type">4</param> <!-- http://docs.oracle.com/javase/6/docs/api/constant-values.html#java.sql.Types.INTEGER -->
            </type>
        </property>
        <property name="createDate" column="CreateDate" not-null="true" type="ru.axetta.ecafe.processor.core.persistence.DateType"/>
        <property name="validDate" column="ValidDate" type="ru.axetta.ecafe.processor.core.persistence.DateType"/>

        <many-to-one name="client" class="ru.axetta.ecafe.processor.core.persistence.Client" column="idOfClient" not-null="true"/>
        <many-to-one name="visitor" class="ru.axetta.ecafe.processor.core.persistence.Visitor" column="idOfVisitor" not-null="true"/>

    </class>
</hibernate-mapping>