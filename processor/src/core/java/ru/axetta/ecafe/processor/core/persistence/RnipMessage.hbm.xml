<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2019. Axetta LLC. All Rights Reserved.
  -->

<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <class name="ru.axetta.ecafe.processor.core.persistence.RnipMessage" table="cf_rnip_messages" optimistic-lock="version">
        <id name="idOfRnipMessage" column="idofrnipmessage" type="long">
            <generator class="identity"/>
        </id>
        <version name="version" column="Version" type="long"/>
        <many-to-one name="contragent" class="ru.axetta.ecafe.processor.core.persistence.Contragent" column="idofcontragent"
                     not-null="true" fetch="join" lazy="false"/>
        <property name="eventTime" column="eventTime" type="ru.axetta.ecafe.processor.core.persistence.DateType" not-null="true"/>
        <property name="lastUpdate" column="lastupdate" type="ru.axetta.ecafe.processor.core.persistence.DateType" not-null="true"/>
        <property name="request" column="request" type="string"/>
        <property name="response" column="response" type="string"/>
        <property name="messageId" column="messageid" type="string" not-null="true"/>
        <property name="paging" column="paging" type="integer"/>
        <property name="responseMessage" column="responsemessage" type="string"/>
        <property name="startDate" column="startdate" type="ru.axetta.ecafe.processor.core.persistence.DateType"/>
        <property name="endDate" column="enddate" type="ru.axetta.ecafe.processor.core.persistence.DateType"/>
        <property name="processed" column="processed" type="ru.axetta.ecafe.processor.core.persistence.BoolType"/>
        <property name="ackSent" column="acksent" type="ru.axetta.ecafe.processor.core.persistence.BoolType"/>
        <property name="eventType" column="eventType" not-null="true">
            <type name="org.hibernate.type.EnumType">
                <param name="enumClass">ru.axetta.ecafe.processor.core.persistence.RnipEventType</param>
            </type>
        </property>
        <property name="requestType" column="requestType" not-null="true">
            <type name="org.hibernate.type.EnumType">
                <param name="enumClass">ru.axetta.ecafe.processor.core.persistence.RnipRequestType</param>
            </type>
        </property>
    </class>
</hibernate-mapping>
