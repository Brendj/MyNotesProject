<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Copyright (c) 2009. Axetta LLC. All Rights Reserved.
  -->

<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
        "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
    <class name="ru.axetta.ecafe.processor.core.persistence.ComplexInfo" table="CF_ComplexInfo">
        <id name="idOfComplexInfo" column="IdOfComplexInfo" type="long">
            <generator class="org.hibernate.id.enhanced.SequenceStyleGenerator">
                <param name="optimizer">pooled-lo</param>
                <param name="increment_size">128</param>
                <param name="sequence_name">CF_ComplexInfo_Id_Gen_seq</param>
            </generator>
        </id>
        <property name="idOfComplex" column="IdOfComplex" type="int" not-null="true" update="false"/>
        <many-to-one name="org" class="ru.axetta.ecafe.processor.core.persistence.Org" column="IdOfOrg"
                     not-null="true" lazy="proxy"
                     update="false"/>
        <property name="complexName" column="ComplexName" type="string" not-null="true" update="true" length="60"/>
        <property name="menuDate" column="MenuDate" type="ru.axetta.ecafe.processor.core.persistence.DateType"
                  not-null="true"/>
        <property name="modeFree" column="ModeFree" type="int" not-null="true" update="true"/>
        <property name="modeGrant" column="ModeGrant" type="int" not-null="true" update="true"/>
        <property name="modeOfAdd" column="ModeOfAdd" type="int" not-null="true" update="true"/>
        <property name="usedSubscriptionFeeding" column="UsedSubscriptionFeeding" type="int" update="true"/>
        <property name="usedVariableFeeding" column="UsedVariableFeeding" type="int" update="true"/>
        <property name="useTrDiscount" column="UseTrDiscount" type="int" update="true" />
        <property name="modeVisible" column="ModeVisible" type="int" update="true" />
        <property name="rootComplex" column="RootComplex" type="int" update="true"/>
        <property name="usedSpecialMenu" column="UsedSpecialMenu" type="int" update="true"/>
        <many-to-one name="menuDetail" class="ru.axetta.ecafe.processor.core.persistence.MenuDetail" column="IdOfMenuDetail"
                     lazy="proxy"
                     update="false"/>
        <many-to-one name="discountDetail" class="ru.axetta.ecafe.processor.core.persistence.ComplexInfoDiscountDetail"
                     column="idOfDiscountDetail" not-null="false" lazy="proxy" update="false" />
        <property name="currentPrice" column="CurrentPrice" type="long" update="true"/>
        <many-to-one name="good" class="ru.axetta.ecafe.processor.core.persistence.distributedobjects.products.Good" column="IdOfGood"
                    lazy="proxy"
                    update="false"/>
    </class>
</hibernate-mapping>
